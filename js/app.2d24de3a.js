(function(){"use strict";var e={2927:function(e,t,n){var o=n(5130),i=n(6768);function r(e,t){const n=(0,i.g2)("router-link"),o=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("nav",null,[(0,i.bF)(n,{to:"/"},{default:(0,i.k6)((()=>[(0,i.eW)("Home")])),_:1}),(0,i.eW)(" | "),(0,i.bF)(n,{to:"/about"},{default:(0,i.k6)((()=>[(0,i.eW)("About")])),_:1})]),(0,i.bF)(o)],64)}var a=n(1241);const l={},u=(0,a.A)(l,[["render",r]]);var d=u,s=n(1387);const v=e=>((0,i.Qi)("data-v-1feee2ac"),e=e(),(0,i.jt)(),e),c=v((()=>(0,i.Lk)("h1",null,"Коллекция фильмов",-1))),m={class:"movie-list"};function p(e,t,n,o,r,a){const l=(0,i.g2)("router-link"),u=(0,i.g2)("MovieCard");return(0,i.uX)(),(0,i.CE)("div",null,[c,(0,i.bF)(l,{to:"/add"},{default:(0,i.k6)((()=>[(0,i.eW)("Добавить новый фильм")])),_:1}),(0,i.Lk)("div",m,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.movies,(e=>((0,i.uX)(),(0,i.Wv)(u,{key:e.id,movie:e},null,8,["movie"])))),128))])])}var f=n(782),g=n(4232);const k={class:"movie-card"};function b(e,t,n,o,r,a){const l=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",k,[(0,i.Lk)("h2",null,(0,g.v_)(e.movie.title),1),(0,i.Lk)("p",null,"Год: "+(0,g.v_)(e.movie.year),1),(0,i.Lk)("p",null,"Рейтинг: "+(0,g.v_)(e.movie.rating),1),(0,i.bF)(l,{to:{name:"details",params:{id:e.movie.id}}},{default:(0,i.k6)((()=>[(0,i.eW)("Описание")])),_:1},8,["to"])])}var h=(0,i.pM)({props:{movie:{type:Object,required:!0}}});const L=(0,a.A)(h,[["render",b],["__scopeId","data-v-2fb86022"]]);var _=L,M=(0,i.pM)({components:{MovieCard:_},setup(){const e=(0,f.Pj)(),t=e.state.movies;return{movies:t}}});const E=(0,a.A)(M,[["render",p],["__scopeId","data-v-1feee2ac"]]);var y=E;function O(e,t,n,o,r,a){const l=(0,i.g2)("AddEditMovie");return(0,i.uX)(),(0,i.Wv)(l)}const A=e=>((0,i.Qi)("data-v-f8bcd910"),e=e(),(0,i.jt)(),e),D={class:"add-edit-movie"},I={class:"form-group"},C=A((()=>(0,i.Lk)("label",{for:"title"},"Название:",-1))),W={class:"form-group"},F=A((()=>(0,i.Lk)("label",{for:"year"},"Год:",-1))),j={class:"form-group"},w=A((()=>(0,i.Lk)("label",{for:"genre"},"Жанр:",-1))),V={class:"form-group"},X=A((()=>(0,i.Lk)("label",{for:"rating"},"Рейтинг:",-1))),q={class:"form-group"},x=A((()=>(0,i.Lk)("label",{for:"description"},"Описание:",-1))),U={class:"form-group"},P=A((()=>(0,i.Lk)("label",{for:"image"},"Изображение:",-1))),T={type:"submit"};function J(e,t,n,r,a,l){return(0,i.uX)(),(0,i.CE)("div",D,[(0,i.Lk)("h1",null,(0,g.v_)(e.isEditMode?"Редактировать фильм":"Добавить новый фильм"),1),(0,i.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(((...t)=>e.handleSubmit&&e.handleSubmit(...t)),["prevent"]))},[(0,i.Lk)("div",I,[C,(0,i.bo)((0,i.Lk)("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=t=>e.movie.title=t),required:""},null,512),[[o.Jo,e.movie.title]])]),(0,i.Lk)("div",W,[F,(0,i.bo)((0,i.Lk)("input",{id:"year",type:"number","onUpdate:modelValue":t[1]||(t[1]=t=>e.movie.year=t),required:""},null,512),[[o.Jo,e.movie.year]])]),(0,i.Lk)("div",j,[w,(0,i.bo)((0,i.Lk)("input",{id:"genre","onUpdate:modelValue":t[2]||(t[2]=t=>e.movie.genre=t),required:""},null,512),[[o.Jo,e.movie.genre]])]),(0,i.Lk)("div",V,[X,(0,i.bo)((0,i.Lk)("input",{id:"rating",type:"number",min:"1",max:"10","onUpdate:modelValue":t[3]||(t[3]=t=>e.movie.rating=t),required:""},null,512),[[o.Jo,e.movie.rating]])]),(0,i.Lk)("div",q,[x,(0,i.bo)((0,i.Lk)("textarea",{id:"description","onUpdate:modelValue":t[4]||(t[4]=t=>e.movie.description=t),required:""},null,512),[[o.Jo,e.movie.description]])]),(0,i.Lk)("div",U,[P,(0,i.Lk)("input",{id:"image",type:"file",onChange:t[5]||(t[5]=(...t)=>e.handleFileChange&&e.handleFileChange(...t))},null,32)]),(0,i.Lk)("button",T,(0,g.v_)(e.isEditMode?"Обновить":"Добавить")+" Фильм",1)],32)])}n(4114);var S=n(144),B=(0,i.pM)({setup(){const e=(0,s.lq)(),t=(0,s.rd)(),n=(0,f.Pj)(),o=Number(e.params.id),r={id:o||Date.now(),title:"",year:(new Date).getFullYear(),genre:"",rating:1,description:"",image:""},a=(0,S.KR)(o?{...n.getters.getMovieById(o)}:r),l=(0,i.EW)((()=>!!o)),u=e=>{const t=e.target.files?.[0];if(t){const e=new FileReader;e.onload=()=>{a.value.image=e.result},e.readAsDataURL(t)}},d=()=>{l.value?n.dispatch("updateMovie",a.value):n.dispatch("addMovie",a.value);const e=a.value.id;t.push({name:"details",params:{id:e}})};return{movie:a,isEditMode:l,handleFileChange:u,handleSubmit:d}}});const K=(0,a.A)(B,[["render",J],["__scopeId","data-v-f8bcd910"]]);var Q=K,R=(0,i.pM)({components:{AddEditMovie:Q}});const N=(0,a.A)(R,[["render",O]]);var $=N;function H(e,t,n,o,r,a){const l=(0,i.g2)("MovieDetails");return(0,i.uX)(),(0,i.Wv)(l)}const Y=e=>((0,i.Qi)("data-v-0455da26"),e=e(),(0,i.jt)(),e),z={class:"movie-details"},G=Y((()=>(0,i.Lk)("strong",null,"Год:",-1))),Z=Y((()=>(0,i.Lk)("strong",null,"Жанр:",-1))),ee=Y((()=>(0,i.Lk)("strong",null,"Рейтинг:",-1))),te=Y((()=>(0,i.Lk)("strong",null,"Описание:",-1))),ne=["src"],oe={class:"actions"};function ie(e,t,n,o,r,a){const l=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",z,[(0,i.Lk)("h1",null,(0,g.v_)(e.movie?.title),1),(0,i.Lk)("p",null,[G,(0,i.eW)(" "+(0,g.v_)(e.movie?.year),1)]),(0,i.Lk)("p",null,[Z,(0,i.eW)(" "+(0,g.v_)(e.movie?.genre),1)]),(0,i.Lk)("p",null,[ee,(0,i.eW)(" "+(0,g.v_)(e.movie?.rating),1)]),(0,i.Lk)("p",null,[te,(0,i.eW)(" "+(0,g.v_)(e.movie?.description),1)]),(0,i.Lk)("img",{src:e.movie?.image,alt:"Movie Image"},null,8,ne),(0,i.Lk)("div",oe,[(0,i.bF)(l,{to:{name:"edit",params:{id:e.movie?.id}}},{default:(0,i.k6)((()=>[(0,i.eW)("Редактировать")])),_:1},8,["to"]),(0,i.Lk)("button",{class:"",onClick:t[0]||(t[0]=(...t)=>e.handleDelete&&e.handleDelete(...t))},"Удалить")])])}var re=(0,i.pM)({setup(){const e=(0,s.lq)(),t=(0,s.rd)(),n=(0,f.Pj)(),o=Number(e.params.id),r=(0,i.EW)((()=>n.getters.getMovieById(o))),a=()=>{confirm("Are you sure you want to delete this movie?")&&(n.dispatch("deleteMovie",o),t.push("/"))};return{movie:r,handleDelete:a}}});const ae=(0,a.A)(re,[["render",ie],["__scopeId","data-v-0455da26"]]);var le=ae,ue=(0,i.pM)({components:{MovieDetails:le}});const de=(0,a.A)(ue,[["render",H]]);var se=de;const ve=[{path:"/",name:"home",component:y},{path:"/add",name:"add",component:$},{path:"/edit/:id",name:"edit",component:$},{path:"/details/:id",name:"details",component:se}],ce=(0,s.aE)({history:(0,s.LA)(),routes:ve});var me=ce,pe=(0,f.y$)({state:{movies:[]},getters:{getMovieById:e=>t=>e.movies.find((e=>e.id===t))},mutations:{ADD_MOVIE(e,t){e.movies.push(t)},UPDATE_MOVIE(e,t){const n=e.movies.findIndex((e=>e.id===t.id));-1!==n&&(e.movies[n]=t)},DELETE_MOVIE(e,t){e.movies=e.movies.filter((e=>e.id!==t))}},actions:{addMovie({commit:e},t){e("ADD_MOVIE",t)},updateMovie({commit:e},t){e("UPDATE_MOVIE",t)},deleteMovie({commit:e},t){e("DELETE_MOVIE",t)}},modules:{}});(0,o.Ef)(d).use(pe).use(me).mount("#app")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,r){if(!o){var a=1/0;for(s=0;s<e.length;s++){o=e[s][0],i=e[s][1],r=e[s][2];for(var l=!0,u=0;u<o.length;u++)(!1&r||a>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(l=!1,r<a&&(a=r));if(l){e.splice(s--,1);var d=i();void 0!==d&&(t=d)}}return t}r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[o,i,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,r,a=o[0],l=o[1],u=o[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(u)var s=u(n)}for(t&&t(o);d<a.length;d++)r=a[d],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(s)},o=self["webpackChunktest_movie"]=self["webpackChunktest_movie"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(2927)}));o=n.O(o)})();
//# sourceMappingURL=app.2d24de3a.js.map